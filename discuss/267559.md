## 小米面经 后台开发 二面
### author 
fingerdancerZM
### post-time 

编辑于  2019-09-20 18:10:51
### content 
<div class="post-topic-des nc-post-content">
 <h1>
  发面经攒人品~
  <span>
  </span>
 </h1>
 <p>
  首先自我介绍，介绍完就让我写一个单例模式，然后我写的双检锁，写完问为什么要两次判断==null，为什么要用volatile
 </p>
 <p>
  然后说到了处理器指令重排、内存屏障，问处理器一般会怎么指令重排，是问重排序的三种：编译器优化的重排序、指令级并行的重排序和内存系统的重排序；
 </p>
 <p>
  问synchronized底层实现，偏向锁、自旋锁、轻量级锁、重量级锁，能否从重量级到轻量级，synchronized加在类和方法上的区别；为什么是可重入的？不可中断解释一下。
 </p>
 <p>
  final域修饰字段能保证线程安全？为什么？
 </p>
 <p>
  list的线程安全集合知道哪些？CopyOnwriteAarryList说一下。
 </p>
 <p>
  说出你知道的解决哈希冲突的所有方法，hashmap为什么用链地址法，链表&gt;=8时转成红黑树，为什么用红黑树？那又小于8以后会变成链表吗？如果在6，7，8来回变会怎么样？
 </p>
 <p>
  B、B+树的区别，Innodb的索引为什么用B+树，哈希索引和B+树索引作比较
 </p>
 <p>
  死锁发生的原因，我就只说了互相占有且等待，问还有吗？写一个死锁程序。
 </p>
 <p>
  提交一个任务到线程池，线程池怎么处理，你平时用现成的还是自定义重写线程池，newFixedThreadPool和newCacheThreadPool区别，饱和策略有哪些
 </p>
 <p>
  然后问实习相关的内容，问遇到过什么问题，我说了一个Guava缓存、Redis和数据库结合使用的三级缓存，发生缓存雪崩，怎么解决的？
 </p>
 <p>
  kafka，如果消费者端消费了一小段任务，突然挂掉了，然后服务端重新发消息让其他消费者执行，挂掉的消费者本来已经执行了一点任务，但是offset并不是在挂掉时候的那里，  然后让其他消费者执行，会重复执行，该怎么办？还有一些问题我忘了。
 </p>
 <p>
  平常怎么学习技术？
 </p>
 <p>
  后面就是闲聊，大概面了55分钟。
 </p>
 <span>
 </span>
</div>

## 字节跳动飞书后台工程师一面，应该是个凉经
### author 
今天也是没有收到offer的一天
### post-time 

编辑于  2020-07-04 12:39:41
### content 
<div class="post-topic-des nc-post-content">
 <div>
  投了字节的春招岗，被刷简历，投了实习岗，被刷简历，结果被捞起来当提前批了，幸运的过了第二次笔试得到了面试机会。
 </div>
 <div>
  终于迎来了人生的第一面，啊，这种激动而又紧张的心情，让我想跑厕所（
 </div>
 <div>
  本来因为我朋友之前的面试经历一点Java没问，全挖的os，于是我就从接到电话开始一直在准备os和计网来着，结果一点没问😂
 </div>
 <div>
  <br/>
 </div>
 <div>
  <strong>
   1.自我介绍
  </strong>
 </div>
 <div>
  <strong>
   2.聊项目亮点
  </strong>
 </div>
 <div>
  然后我选了redis位图，因为我用这个实现了员工打卡功能，然后面试官说公司员工不多不会有太大的内存优化（虽然我确实也是觉得很新奇才用的
 </div>
 <div>
  然后选了线程池，因为我用线程池实现了字段校验，过于紧张线程池全都忘光了，于是在线程池参数的配置上胡言乱语，被善意的反驳
 </div>
 <div>
  然后说了sql优化，同理，过于紧张，话都说不顺了，讲了几种sql的普通优化
 </div>
 <div>
  <strong>
   3.除了redis的位图，还了解什么
  </strong>
 </div>
 <div>
  然后我从9种数据结构及其适用场景，string-对象json，hash-对象，list-消息队列，set-共同爱好，zset-排行榜，bitmap-打卡签到，hyperloglog-月活，bloom filter-解决缓存穿透
 </div>
 <div>
  聊到了两种持久化及其详细过程，rdb-save、bgsave，aof-rewriteaof
 </div>
 <div>
  聊到了主从复制及其新老版的实现区别，旧版的sync-初次复制和断线重连后的重同步，新版的psync-初次复制和断线重连后的部分重同步
  <br/>
 </div>
 <div>
  好吧，全程就我在口嗨😭
  <br/>
 </div>
 <div>
  <strong>
   4.zset的底层数据结构
  </strong>
 </div>
 <div>
  跳表，没细问，细问我也没看（
 </div>
 <div>
  <strong>
   5.布隆过滤器是redis的数据结构吗
  </strong>
 </div>
 <div>
  我说没注意。。。他这么一问我以为不是。。。
  <br/>
 </div>
 <div>
  <strong>
   6.innodb的锁机制
  </strong>
 </div>
 <div>
  讲了粒度分类的表锁行锁意向锁，讲了排斥性分类的读锁写锁
  <br/>
 </div>
 <div>
  讲了四种锁算法，record lock, gap lock, next-key lock, previous-key lock，但是面试官好像不知道我说的最后两个算法，让我打字发给他
 </div>
 <div>
  以及我还说了innodb在可重复读下是通过
  <span>
   next-key lock来避免幻读的，最后被委婉的说不对，
   <strong>
    求助，难道不是吗，求解答😭
   </strong>
   或者我应该结合mvcc来说吧
  </span>
  ，但是当时我没说，流泪
 </div>
 <div>
  <strong>
   （2020/7/4更新，这个问题跟朋友聊了聊，next-key算法解决幻读问题是没毛病的，但是面试官的问题应该是rr级别下怎么能解决幻读问题。rr确实不能完美避免幻读问题，除非加锁，即使是mvcc也不能完全避免，记录在博客里了
   <a href="https://blog.csdn.net/weixin_42907817/article/details/107121470" target="_blank">
    https://blog.csdn.net/weixin_42907817/article/details/107121470
   </a>
   <span>
   </span>
   <span>
   </span>
   ）
  </strong>
 </div>
 <div>
  <strong>
   7.算法
  </strong>
 </div>
 <div>
  力扣 124. 二叉树中的最大路径和 相类似的题，力扣这题求的是最大路径和，我面试的题是求最长的路径，
  <a href="https://leetcode-cn.com/problems/binary-tree-maximum-path-sum/" target="_blank">
   https://leetcode-cn.com/problems/binary-tree-maximum-path-sum/
  </a>
  ，hard，做过所以做出来了，但是被牛客坑了，要自己根据输入输出构造二叉树，写完后一直运行失败，最后发现输入框是空的要自己填。。。原谅我是第一次参加面试。因为处理输入输出花的时间比较久，本来应该有第二题的吧，反正面试官一开始是说两道题，改口先做一题。
 </div>
 <div>
  <strong>
   8.反问
  </strong>
 </div>
 <div>
  建议，他说还是不问这个吧。
 </div>
 <div>
  就问了学习建议，面试官说多看看原理会对我具有比较大的帮助，
  <strong>
   有些paper不一定是对的，然后
  </strong>
  <strong>
   举例next-key算法能不能解决幻读问题，
  </strong>
  当然了他没细说。
 </div>
 <div>
  <br/>
 </div>
 <div>
  所以，应该就是凉经，总之我终于是有过面试经验的人了
  <span>
   🤣
  </span>
 </div>
</div>
